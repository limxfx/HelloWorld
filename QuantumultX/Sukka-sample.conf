# updated at: 2024-12-1
# å‚è€ƒé…ç½® - https://blog.skk.moe/post/i-have-my-unique-surge-setup/
# è®¾ç½®å»ºè®® -ã€Œé€šçŸ¥ã€æ ä¸­ï¼Œå»ºè®®ä»…å¼€å¯[ç­–ç•¥æ£€æµ‹é€šçŸ¥]å’Œ[è„šæœ¬é€šçŸ¥]å¼€å…³ï¼Œã€ŒVPNã€æ ä¸­ï¼Œå»ºè®®å…³é—­[å…¼å®¹æ€§å¢å¼º]ã€[åˆ†æµåŒ¹é…ä¼˜åŒ–]å’Œ[MPM]å¼€å…³
# è®¾ç½®å»ºè®® - ã€Œå…¶ä»–è®¾ç½®ã€é‡Œã€ŒGeoLite2ã€çš„ã€Œæ¥æºã€å¡«å†™ä½¿ç”¨ä¸‹é¢é“¾æ¥ã€Œä»»é€‰ä¸€ä¸ªã€ï¼Œå¹¶å¼€å¯ã€Œè‡ªåŠ¨æ›´æ–°ã€
# https://raw.githubusercontent.com/Loyalsoldier/geoip/release/Country.mmdb
# https://github.com/Hackl0us/GeoIP2-CN/raw/release/Country.mmdb

[general]
# èŠ‚ç‚¹å»¶è¿Ÿæµ‹è¯•é“¾æ¥
server_check_url = http://connectivitycheck.gstatic.com/generate_204
# ç½‘ç»œè¿é€šæ€§æµ‹è¯•é“¾æ¥
network_check_url = http://connectivitycheck.platform.hicloud.com/generate_204
# æµ‹è¯•è¶…æ—¶æ—¶é—´ (æ¯«ç§’)
server_check_timeout = 3000
# å…³è”é…ç½®å›¾æ ‡
profile_img_url = https://avatars.githubusercontent.com/repcz
# èŠ‚ç‚¹é¡µé¢çš„èŠ‚ç‚¹ä¿¡æ¯å±•ç¤ºï¼Œå¯å®Œæ•´è‡ªå®šä¹‰å±•ç¤ºå†…å®¹ä¸æ–¹å¼
geo_location_checker = disabled
;geo_location_checker = http://ip-api.com/json/?lang=zh-CN, https://raw.githubusercontent.com/ConnersHua/RuleGo/master/Quantumult/Script/geo_location_checker.js
# èµ„æºè§£æå™¨ï¼Œå¯ç”¨äºè‡ªå®šä¹‰å„ç±»è¿œç¨‹èµ„æºçš„è½¬æ¢ï¼Œå¦‚èŠ‚ç‚¹ï¼Œè§„åˆ™ filterï¼Œå¤å†™ rewrite ç­‰ï¼Œurl åœ°å€å¯è¿œç¨‹ï¼Œå¯ æœ¬åœ°/iCloud(Quantumult X/Scriptsç›®å½•);
resource_parser_url = https://raw.githubusercontent.com/KOP-XIAO/QuantumultX/master/Scripts/resource-parser.js
# ä¸‹åˆ—è·¯å¾„å°†ä¸ç»è¿‡ QuanX çš„å¤„ç†,è®¾ç½®åå»ºè®®é‡å¯è®¾å¤‡
excluded_routes = 239.255.255.250/32, 24.105.30.129/32, 185.60.112.157/32, 182.162.132.1/32, 192.168.0.0/16, 172.16.0.0/12, 100.64.0.0/10, 10.0.0.0/8
# UDP Drop åå•
udp_drop_list = 443
# dns exclusion list ä¸­çš„åŸŸåå°†ä¸ä½¿ç”¨ fake-ip æ–¹å¼. å…¶å®ƒåŸŸååˆ™å…¨éƒ¨é‡‡ç”¨ fake-ip åŠè¿œç¨‹è§£æçš„æ¨¡å¼
dns_exclusion_list = *.lan, *.direct, *.cmpassport.com, *.jegotrip.com.cn, id6.me, open.e.189.cn, mdn.open.wo.cn, opencloud.wostore.cn, auth.wosms.cn, *.10099.com.cn, *.pingan.com.cn, *.cmbchina.com
# èŠ‚ç‚¹ä¸æ”¯æŒUDPè½¬å‘æ—¶è¿”å›çš„ç­–ç•¥ï¼šdirect/reject/èŠ‚ç‚¹
fallback_udp_policy = reject

[dns]
no-ipv6
no-system

server= 223.5.5.5
server= 119.29.29.29
server=/*.tencent.com/119.29.29.29
server=/*.weixin.com/119.29.29.29

[policy]
static=Global, direct, proxy, ğŸ‡­ğŸ‡° HK, ğŸ‡ºğŸ‡¸ US, ğŸ‡¯ğŸ‡µ JP, ğŸ‡¨ğŸ‡³ TW, ğŸ‡¸ğŸ‡¬ SG, âœˆï¸ Data-saving, ğŸ  Home-broadband, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Global.png

static=CDN, direct, proxy, ğŸ‡­ğŸ‡° HK, ğŸ‡ºğŸ‡¸ US, ğŸ‡¯ğŸ‡µ JP, ğŸ‡¨ğŸ‡³ TW, ğŸ‡¸ğŸ‡¬ SG, âœˆï¸ Data-saving, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Download.png
static=Streaming!CN, direct, proxy, ğŸ‡­ğŸ‡° HK, ğŸ‡ºğŸ‡¸ US, ğŸ‡¯ğŸ‡µ JP, ğŸ‡¨ğŸ‡³ TW, ğŸ‡¸ğŸ‡¬ SG, âœˆï¸ Data-saving, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Streaming!CN.png
#static=StreamingCN, direct, proxy, Global, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/StreamingCN.png
static=AI, ğŸ‡ºğŸ‡¸ US, ğŸ  Home-broadband, img-url=https://raw.githubusercontent.com/fmz200/wool_scripts/main/icons/apps/OpenAI.png
static=Telegram, ğŸ‡ºğŸ‡¸ US, ğŸ‡¸ğŸ‡¬ SG, ğŸ  Home-broadband, img-url=https://raw.githubusercontent.com/fmz200/wool_scripts/main/icons/lige47/telegram(1).png
static=Apple, direct, ğŸ‡­ğŸ‡° HK, ğŸ‡ºğŸ‡¸ US, img-url=https://raw.githubusercontent.com/fmz200/wool_scripts/main/icons/apps/Apple.png
static=Google, direct,ğŸ‡­ğŸ‡° HK, ğŸ‡ºğŸ‡¸ US, img-url=https://raw.githubusercontent.com/fmz200/wool_scripts/main/icons/apps/Google.png
static=Microsoft, direct,ğŸ‡­ğŸ‡° HK, ğŸ‡ºğŸ‡¸ US, img-url=https://raw.githubusercontent.com/fmz200/wool_scripts/main/icons/apps/Microsoft.png

# å›½å®¶èŠ‚ç‚¹
url-latency-benchmark=ğŸ‡­ğŸ‡° HK, server-tag-regex=(?i)ğŸ‡­ğŸ‡°|é¦™æ¸¯|(\b(HK|Hong)\b), check-interval=300, alive-checking=false, tolerance=0, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Hong_Kong.png
url-latency-benchmark=ğŸ‡ºğŸ‡¸ US, server-tag-regex=(?i)ğŸ‡ºğŸ‡¸|ç¾å›½|æ´›æ‰çŸ¶|åœ£ä½•å¡|(\b(US|United States)\b), check-interval=300, alive-checking=false, tolerance=0, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/United_States.png
url-latency-benchmark=ğŸ‡¯ğŸ‡µ JP, server-tag-regex=(?i)ğŸ‡¯ğŸ‡µ|æ—¥æœ¬|ä¸œäº¬|(\b(JP|Japan)\b), check-interval=300, alive-checking=false, tolerance=0, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Japan.png
url-latency-benchmark=ğŸ‡¨ğŸ‡³ TW, server-tag-regex=(?i)ğŸ‡¨ğŸ‡³|ğŸ‡¹ğŸ‡¼|å°æ¹¾|(\b(TW|Tai|Taiwan)\b), check-interval=300, alive-checking=false, tolerance=0, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/China.png
url-latency-benchmark=ğŸ‡¸ğŸ‡¬ SG, server-tag-regex=(?i)ğŸ‡¸ğŸ‡¬|æ–°åŠ å¡|ç‹®|(\b(SG|Singapore)\b), check-interval=300, alive-checking=false, tolerance=0, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Singapore.png

# ç‰¹æ®ŠèŠ‚ç‚¹
url-latency-benchmark=âœˆï¸ Data-saving, server-tag-regex=(?i)(0\.[1-9])|(æ—¥ç”¨)|(ä½å€)|(å®éªŒ), check-interval=300, alive-checking=false, tolerance=0, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Download.png
url-latency-benchmark=ğŸ  Home-broadband, server-tag-regex=(?i)(å®¶ç”¨)|(å®¶åº­)|(å®¶å®½), check-interval=300, alive-checking=false, tolerance=0, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/TAG.png

[server_remote]
# æœºåœºURL, tag=æœºåœºå, update-interval=172800, opt-parser=false, enabled=true

[filter_remote]
### non-ip ###
# reject
https://ruleset.skk.moe/List/domainset/reject.conf, tag=ğŸš«reject, force-policy=reject, update-interval=172800, opt-parser=true, enabled=true
https://ruleset.skk.moe/List/domainset/reject_extra.conf, tag=ğŸš«reject_extra, force-policy=reject, update-interval=172800, opt-parser=true, enabled=false
https://ruleset.skk.moe/List/non_ip/reject.conf, tag=ğŸš«reject_nonip, force-policy=reject, update-interval=172800, opt-parser=true, enabled=true

# cdn
https://ruleset.skk.moe/List/domainset/cdn.conf, tag=ğŸ‡ºğŸ‡³cdn, force-policy=CDN, update-interval=172800, opt-parser=true, enabled=true
https://ruleset.skk.moe/List/non_ip/cdn.conf, tag=ğŸ‡ºğŸ‡³cdn_nonip, force-policy=CDN, update-interval=172800, opt-parser=true, enabled=true

# Streaming!CN
https://ruleset.skk.moe/List/non_ip/stream.conf, tag=ğŸ‡ºğŸ‡³Streaming!CN, force-policy=Streaming!CN, update-interval=172800, opt-parser=true, enabled=true

# AI
https://ruleset.skk.moe/List/non_ip/ai.conf, tag=ğŸ‡ºğŸ‡³AI, force-policy=AI, update-interval=172800, opt-parser=true, enabled=true

# Telegram
https://ruleset.skk.moe/List/non_ip/telegram.conf, tag=ğŸ‡ºğŸ‡³Telegram, force-policy=Telegram, update-interval=172800, opt-parser=true, enabled=false

# apple
https://ruleset.skk.moe/List/non_ip/apple_cn.conf, tag=ï£¿AppleCN, force-policy=direct, update-interval=172800, opt-parser=true, enabled=true
https://ruleset.skk.moe/List/non_ip/apple_services.conf, tag=ï£¿AppleServices, force-policy=Apple, update-interval=172800, opt-parser=true, enabled=true
https://ruleset.skk.moe/List/non_ip/microsoft.conf, tag=ğŸ‡ºğŸ‡³Microsoft, force-policy=Microsoft, update-interval=172800, opt-parser=true, enabled=true

# Download
https://ruleset.skk.moe/List/domainset/download.conf, tag=ğŸ‡ºğŸ‡³Download, force-policy=direct, update-interval=172800, opt-parser=true, enabled=true
https://ruleset.skk.moe/List/non_ip/download.conf, tag=ğŸ‡ºğŸ‡³Download_nonip, force-policy=direct, update-interval=172800, opt-parser=true, enabled=true

#> Custom non_ip Rules
https://raw.githubusercontent.com/fuh/ABC/master/Surge/Ruleset/non_ip/google.list, tag=ğŸ‡ºğŸ‡³Google force-policy=Google, update-interval=172800, opt-parser=true, enabled=true

# Proxy
https://ruleset.skk.moe/List/non_ip/global.conf, tag=ğŸ‡ºğŸ‡³Global, force-policy=Global, update-interval=172800, opt-parser=true, enabled=true

# CN
https://ruleset.skk.moe/List/non_ip/domestic.conf, tag=ğŸ‡¨ğŸ‡³CN_domestic, force-policy=direct, update-interval=172800, opt-parser=true, enabled=true
https://ruleset.skk.moe/List/non_ip/direct.conf, tag=ğŸ‡¨ğŸ‡³CN_direct, force-policy=direct, update-interval=172800, opt-parser=true, enabled=true

# Lan
https://ruleset.skk.moe/List/non_ip/lan.conf, tag=ğŸ‡¨ğŸ‡³Lan, force-policy=direct, update-interval=172800, opt-parser=true, enabled=true

### ip ###
# reject
https://ruleset.skk.moe/List/ip/reject.conf, tag=ğŸš«reject_ip, force-policy=reject, update-interval=172800, opt-parser=true, enabled=true

# Streaming!CN
https://ruleset.skk.moe/List/ip/stream.conf, tag=ğŸ‡ºğŸ‡³Streaming!CN_ip, force-policy=Streaming!CN, update-interval=172800, opt-parser=true, enabled=true

# Telegram
https://ruleset.skk.moe/List/ip/telegram.conf, tag=ğŸ‡ºğŸ‡³Telegram_ip, force-policy=Telegram, update-interval=172800, opt-parser=true, enabled=false

#> Custom ip Rules
https://raw.githubusercontent.com/fuh/ABC/master/Surge/Ruleset/ip/google.list, tag=ğŸ‡ºğŸ‡³Google force-policy=Google, update-interval=172800, opt-parser=true, enabled=true

# CN
https://ruleset.skk.moe/List/ip/domestic.conf, tag=ğŸ‡¨ğŸ‡³CN_domestic_ip, force-policy=direct, update-interval=172800, opt-parser=true, enabled=true
https://ruleset.skk.moe/List/ip/china_ip.conf, tag=ğŸ‡¨ğŸ‡³CN_ip, force-policy=direct, update-interval=172800, opt-parser=true, enabled=true

# Lan
https://ruleset.skk.moe/List/ip/lan.conf, tag=ğŸ‡¨ğŸ‡³Lan_ip, force-policy=direct, update-interval=172800, opt-parser=true, enabled=true

# FILTER 
FILTER_LAN, tag=LAN, force-policy=direct, enabled=true
FILTER_REGION, tag=CN, force-policy=direct, enabled=true

[rewrite_remote]
https://github.com/NSRingo/GeoServices/releases/latest/download/Location.snippet, tag=Location@NSRingo, update-interval=172800, opt-parser=true, enabled=false
https://github.com/NSRingo/News/releases/latest/download/News.snippet, tag=News@NSRingo, update-interval=172800, opt-parser=true, enabled=false

https://github.com/ddgksf2013/Rewrite/raw/master/AdBlock/StartUp.conf, tag=å¢¨é±¼å»å¼€å±ğ•ğŸ.ğŸ, update-interval=172800, opt-parser=true, enabled=false
https://github.com/ddgksf2013/Rewrite/raw/master/AdBlock/Amap.conf, tag=é«˜å¾·åœ°å›¾å»å¹¿å‘Š[å¸è½½é‡è£…], update-interval=172800, opt-parser=true, enabled=false
https://github.com/ddgksf2013/Rewrite/raw/master/AdBlock/Bilibili.conf, tag=å“”å“©å“”å“©å¹¿å‘Šå‡€åŒ–, update-interval=172800, opt-parser=true, enabled=false
https://github.com/ddgksf2013/Rewrite/raw/master/AdBlock/NeteaseAds.conf, tag=ç½‘æ˜“äº‘éŸ³ä¹å‡€åŒ–, update-interval=172800, opt-parser=true, enabled=false
https://github.com/ddgksf2013/Rewrite/raw/master/AdBlock/Weibo.conf, tag=å¾®åš&å¾®åšå›½é™…ç‰ˆå‡€åŒ–, update-interval=172800, opt-parser=true, enabled=false
https://github.com/ddgksf2013/Rewrite/raw/master/AdBlock/XiaoHongShu.conf, tag=å°çº¢ä¹¦å‡€åŒ–+åŠŸèƒ½å¢å¼º, update-interval=172800, opt-parser=true, enabled=false
https://github.com/ddgksf2013/Rewrite/raw/master/AdBlock/YoutubeAds.conf, tag=Youtube Block AD, update-interval=172800, opt-parser=true, enabled=false
https://raw.githubusercontent.com/QingRex/LoonKissSurge/refs/heads/main/Surge/%E8%88%AA%E6%97%85%E7%BA%B5%E6%A8%AA%E5%8E%BB%E5%B9%BF%E5%91%8A.sgmodule, tag=èˆªæ—…çºµæ¨ªå»å¹¿å‘Š, update-interval=172800, opt-parser=true, enabled=false
https://raw.githubusercontent.com/QingRex/LoonKissSurge/refs/heads/main/Surge/%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%8F%B7%E5%8E%BB%E5%B9%BF%E5%91%8A.sgmodule, tag=å¾®ä¿¡å…¬ä¼—å·å»å¹¿å‘Š, update-interval=172800, opt-parser=true, enabled=false
https://raw.githubusercontent.com/QingRex/LoonKissSurge/refs/heads/main/Surge/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%8E%BB%E5%B9%BF%E5%91%8A.sgmodule, tag=å¾®ä¿¡å°ç¨‹åºå»å¹¿å‘Š, update-interval=172800, opt-parser=true, enabled=false

[server_local]


[filter_local]
# ip-cidr, 10.0.0.0/8, direct
# ip-cidr, 127.0.0.0/8, direct
# ip-cidr, 172.16.0.0/12, direct
# ip-cidr, 192.168.0.0/16, direct
# ip-cidr, 224.0.0.0/24, direct
# ip-cidr, 182.254.116.0/24, direct
# geoip, cn, direct
# final, proxy
final, Global

[rewrite_local]


[task_local]
event-interaction https://raw.githubusercontent.com/xream/scripts/main/surge/modules/network-info/net-lsp-x.js, tag=ç½‘ç»œä¿¡æ¯ ğ•, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Global.png, enabled=true
event-interaction https://raw.githubusercontent.com/KOP-XIAO/QuantumultX/master/Scripts/streaming-ui-check.js, tag=æµåª’ä½“è§£é”æŸ¥è¯¢, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Siri.png, enabled=true

# æ‰‹åŠ¨æ·»åŠ 
; https://raw.githubusercontent.com/KOP-XIAO/QuantumultX/master/Scripts/UI-Action.json

[http_backend]


[mitm]
